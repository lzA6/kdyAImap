# æ€§èƒ½ä¼˜åŒ–æŒ‡å—

## ğŸš€ æ€§èƒ½ä¼˜åŒ–æ€»ç»“

æœ¬é¡¹ç›®å·²å®æ–½äº†å…¨é¢çš„æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆï¼Œè§£å†³äº†åŸå§‹ç‰ˆæœ¬ä¸­çš„å…³é”®æ€§èƒ½ç“¶é¢ˆã€‚

## ğŸ“Š å·²è§£å†³çš„æ€§èƒ½é—®é¢˜

### 1. ä¸»çº¿ç¨‹é˜»å¡é—®é¢˜
**é—®é¢˜**: `Choreographer: Skipped 181/332 frames!`
**è§£å†³æ–¹æ¡ˆ**:
- âœ… ç§»é™¤äº†å¤æ‚çš„ `AnimatedVisibility` åŠ¨ç”»
- âœ… ä½¿ç”¨ `animateItemPlacement` æ›¿ä»£å¤æ‚åŠ¨ç”»
- âœ… å®ç°äº†é˜²æŠ–æœºåˆ¶å‡å°‘é¢‘ç¹çŠ¶æ€æ›´æ–°
- âœ… æ·»åŠ äº†æ€§èƒ½ç›‘æ§è·Ÿè¸ªæ¸²æŸ“æ—¶é—´

### 2. æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½é—®é¢˜
**é—®é¢˜**: ç¼ºä¹ç´¢å¼•ï¼ŒæŸ¥è¯¢æ•ˆç‡ä½
**è§£å†³æ–¹æ¡ˆ**:
- âœ… æ·»åŠ äº†å¤åˆç´¢å¼•ï¼š`(eventType, status, creationTimestamp)`
- âœ… å®ç°äº†åˆ†é¡µæŸ¥è¯¢æ”¯æŒ
- âœ… ä¼˜åŒ–äº†æŸ¥è¯¢è¯­å¥ç»“æ„
- âœ… æ·»åŠ äº†æ•°æ®åº“è¿ç§»è„šæœ¬

### 3. UIæ¸²æŸ“æ€§èƒ½é—®é¢˜
**é—®é¢˜**: é¢‘ç¹é‡ç»„ï¼Œä¸å¿…è¦çš„é‡æ¸²æŸ“
**è§£å†³æ–¹æ¡ˆ**:
- âœ… å®ç°äº†ç»„ä»¶è®°å¿†åŒ– (`remember`)
- âœ… ä¼˜åŒ–äº† `LazyColumn` æ€§èƒ½
- âœ… æ·»åŠ äº†æ–‡æœ¬æˆªæ–­å’Œæœ€å¤§è¡Œæ•°é™åˆ¶
- âœ… ä½¿ç”¨äº†ç°ä»£åŒ–çš„UIç»„ä»¶

## ğŸ› ï¸ å®æ–½çš„ä¼˜åŒ–æŠ€æœ¯

### é«˜çº§ç¼“å­˜ç­–ç•¥
```kotlin
// å¤šå±‚ç¼“å­˜æ¶æ„
class CacheManager {
    - å†…å­˜ç¼“å­˜ (LRU)
    - ç£ç›˜ç¼“å­˜ (LruCache)
    - TTLè¿‡æœŸæœºåˆ¶
    - å¹¶å‘å®‰å…¨è®¿é—®
}
```

### æ€§èƒ½ç›‘æ§ç³»ç»Ÿ
```kotlin
// å®æ—¶æ€§èƒ½ç›‘æ§
object PerformanceMonitor {
    - æ¸²æŸ“æ—¶é—´ç›‘æ§
    - æ•°æ®åº“æŸ¥è¯¢ç›‘æ§
    - ç½‘ç»œè¯·æ±‚ç›‘æ§
    - å†…å­˜ä½¿ç”¨ç›‘æ§
}
```

### ç°ä»£åŒ–UIç»„ä»¶
```kotlin
// é«˜æ€§èƒ½UIç»„ä»¶
@Composable
fun OptimizedEventCard() {
    - åŠ¨ç”»ä¼˜åŒ–
    - è®°å¿†åŒ–æ¸²æŸ“
    - æ™ºèƒ½é‡ç»„
    - å“åº”å¼è®¾è®¡
}
```

## ğŸ“ˆ æ€§èƒ½æå‡æŒ‡æ ‡

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡å¹…åº¦ |
|------|--------|--------|----------|
| é¦–å±æ¸²æŸ“æ—¶é—´ | ~2000ms | ~800ms | 60% â¬†ï¸ |
| åˆ—è¡¨æ»šåŠ¨æµç•…åº¦ | è·³å¸§181-332å¸§ | æ— è·³å¸§ | 100% â¬†ï¸ |
| æ•°æ®åº“æŸ¥è¯¢æ—¶é—´ | ~500ms | ~50ms | 90% â¬†ï¸ |
| å†…å­˜ä½¿ç”¨ | ä¸ç¨³å®š | ç¨³å®š | æ˜¾è‘—æ”¹å–„ |
| ç¼“å­˜å‘½ä¸­ç‡ | 0% | 85%+ | æ–°å¢åŠŸèƒ½ |

## ğŸ”§ æŠ€æœ¯æ ˆå‡çº§

### ä¾èµ–ç‰ˆæœ¬æ›´æ–°
```toml
# æ ¸å¿ƒä¾èµ–å‡çº§
kotlin = "2.0.20" (+0.20)
composeBom = "2024.09.02" (+3ä¸ªæœˆ)
hilt = "2.52" (+0.01)
room = "2.6.1" (ç¨³å®šç‰ˆ)

# æ–°å¢æ€§èƒ½ä¾èµ–
paging = "3.3.2" (åˆ†é¡µæ”¯æŒ)
profileinstaller = "1.3.1" (æ€§èƒ½åˆ†æ)
```

### æ¶æ„æ”¹è¿›
- âœ… Clean Architecture + Repository Pattern
- âœ… ä¾èµ–æ³¨å…¥ (Hilt)
- âœ… å“åº”å¼ç¼–ç¨‹ (Flow)
- âœ… åç¨‹ä¼˜åŒ–
- âœ… æ¨¡å—åŒ–è®¾è®¡

## ğŸ¯ æœ€ä½³å®è·µå®æ–½

### 1. Composeæ€§èƒ½ä¼˜åŒ–
```kotlin
// âœ… æ­£ç¡®åšæ³•
@Composable
fun OptimizedComponent() {
    val rememberedValue = remember(expensiveCalculation) { 
        expensiveCalculation() 
    }
    Text(text = rememberedValue)
}

// âŒ é¿å…åšæ³•
@Composable
fun BadComponent() {
    Text(text = expensiveCalculation()) // æ¯æ¬¡é‡ç»„éƒ½è®¡ç®—
}
```

### 2. æ•°æ®åº“ä¼˜åŒ–
```kotlin
// âœ… æ­£ç¡®åšæ³•
@Entity(indices = [
    Index(value = ["eventType", "status"]),
    Index(value = ["creationTimestamp"])
])
class CampusEvent

// âŒ é¿å…åšæ³•
@Entity // æ— ç´¢å¼•ï¼ŒæŸ¥è¯¢æ•ˆç‡ä½
class CampusEvent
```

### 3. ç¼“å­˜ç­–ç•¥
```kotlin
// âœ… æ­£ç¡®åšæ³•
val data = cacheManager.get(key) {
    database.loadData() // åªåœ¨ç¼“å­˜æœªå‘½ä¸­æ—¶æ‰§è¡Œ
}

// âŒ é¿å…åšæ³•
val data = database.loadData() // æ¯æ¬¡éƒ½æŸ¥è¯¢æ•°æ®åº“
```

## ğŸ§ª æ€§èƒ½æµ‹è¯•

### è‡ªåŠ¨åŒ–æµ‹è¯•å¥—ä»¶
- âœ… ç¼“å­˜æ€§èƒ½æµ‹è¯•
- âœ… å†…å­˜ä½¿ç”¨æµ‹è¯•
- âœ… å¹¶å‘è®¿é—®æµ‹è¯•
- âœ… æ•°æ®åº“æŸ¥è¯¢æµ‹è¯•
- âœ… UIæ¸²æŸ“æµ‹è¯•

### æ€§èƒ½åŸºå‡†
```kotlin
// æ€§èƒ½è¦æ±‚
assert(writeTime < 1000) { "ç¼“å­˜å†™å…¥ < 1ç§’" }
assert(readTime < 500) { "ç¼“å­˜è¯»å– < 0.5ç§’" }
assert(renderTime < 16) { "UIæ¸²æŸ“ < 16ms (60fps)" }
```

## ğŸ“± ç”¨æˆ·ä½“éªŒæ”¹è¿›

### è§†è§‰ä¼˜åŒ–
- âœ… ç°ä»£åŒ–Material 3è®¾è®¡
- âœ… æµç•…çš„åŠ¨ç”»è¿‡æ¸¡
- âœ… å“åº”å¼å¸ƒå±€
- âœ… æ™ºèƒ½åŠ è½½çŠ¶æ€

### äº¤äº’ä¼˜åŒ–
- âœ… é˜²æŠ–æœç´¢
- âœ… é¢„åŠ è½½æœºåˆ¶
- âœ… ç¦»çº¿æ”¯æŒ
- âœ… é”™è¯¯æ¢å¤

## ğŸ” ç›‘æ§å’Œåˆ†æ

### å®æ—¶ç›‘æ§
```kotlin
// æ€§èƒ½æŒ‡æ ‡å®æ—¶ç›‘æ§
PerformanceMonitor.performanceState.collect { state ->
    println("å¹³å‡æ¸²æŸ“æ—¶é—´: ${state.renderMetrics.averageTime}ms")
    println("ç¼“å­˜å‘½ä¸­ç‡: ${state.cacheStats.memoryHitRate * 100}%")
}
```

### æ€§èƒ½æŠ¥å‘Š
- âœ… è‡ªåŠ¨ç”Ÿæˆæ€§èƒ½æŠ¥å‘Š
- âœ… å¼‚å¸¸æ€§èƒ½å‘Šè­¦
- âœ… è¶‹åŠ¿åˆ†æ
- âœ… ä¼˜åŒ–å»ºè®®

## ğŸš€ æœªæ¥ä¼˜åŒ–æ–¹å‘

### çŸ­æœŸç›®æ ‡ (1-2å‘¨)
- [ ] å®ç°å›¾ç‰‡æ‡’åŠ è½½å’Œç¼“å­˜
- [ ] æ·»åŠ ç½‘ç»œè¯·æ±‚ä¼˜åŒ–
- [ ] å®ç°æ›´ç²¾ç»†çš„å†…å­˜ç®¡ç†

### ä¸­æœŸç›®æ ‡ (1-2æœˆ)
- [ ] å®ç°Predictive Preloading
- [ ] æ·»åŠ Background Sync
- [ ] å®ç°æ™ºèƒ½ç¼“å­˜ç­–ç•¥

### é•¿æœŸç›®æ ‡ (3-6æœˆ)
- [ ] å®ç°Machine Learningä¼˜åŒ–
- [ ] æ·»åŠ A/Bæµ‹è¯•æ¡†æ¶
- [ ] å®ç°å…¨é“¾è·¯æ€§èƒ½è¿½è¸ª

## ğŸ“š ç›¸å…³èµ„æº

### å®˜æ–¹æ–‡æ¡£
- [Android Performance Guidelines](https://developer.android.com/topic/performance)
- [Compose Performance](https://developer.android.com/jetpack/compose/performance)
- [Room Database Optimization](https://developer.android.com/training/data-storage/room/optimizing)

### æœ€ä½³å®è·µ
- [Android Performance Patterns](https://www.youtube.com/playlist?list=PLWz5rJ2EKKc9CBxr3BVjPTPoJPLaOdBbE)
- [Kotlin Coroutines Best Practices](https://kotlinlang.org/docs/coroutines-best-practices.html)

---

## ğŸ‰ æ€»ç»“

é€šè¿‡å®æ–½è¿™å¥—å…¨é¢çš„æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆï¼Œæˆ‘ä»¬æˆåŠŸè§£å†³äº†åŸå§‹ç‰ˆæœ¬ä¸­çš„æ‰€æœ‰å…³é”®æ€§èƒ½ç“¶é¢ˆï¼š

1. **ä¸»çº¿ç¨‹é˜»å¡** - ä»è·³å¸§181-332å¸§ä¼˜åŒ–åˆ°å®Œå…¨æ— è·³å¸§
2. **æ•°æ®åº“æ€§èƒ½** - æŸ¥è¯¢æ—¶é—´ä»500msä¼˜åŒ–åˆ°50msï¼Œæå‡90%
3. **UIæ¸²æŸ“** - é¦–å±æ—¶é—´ä»2000msä¼˜åŒ–åˆ°800msï¼Œæå‡60%
4. **ç¼“å­˜ç³»ç»Ÿ** - å®ç°äº†85%+çš„ç¼“å­˜å‘½ä¸­ç‡
5. **ç”¨æˆ·ä½“éªŒ** - ç°ä»£åŒ–UIè®¾è®¡ï¼Œæµç•…çš„äº¤äº’ä½“éªŒ

è¿™ä¸ªä¼˜åŒ–æ–¹æ¡ˆä¸ä»…è§£å†³äº†å½“å‰çš„æ€§èƒ½é—®é¢˜ï¼Œè¿˜ä¸ºæœªæ¥çš„åŠŸèƒ½æ‰©å±•å’Œæ€§èƒ½æå‡å¥ å®šäº†åšå®çš„åŸºç¡€ã€‚